const forms=()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input"),a=document.querySelectorAll("textarea");document.querySelectorAll('input[name="phone"]').forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))}));const n="Загрузка...",o="Спасибо! Скоро мы с вами свяжемся",r="Что-то пошло не так...";e.forEach((e=>{e.addEventListener("submit",(l=>{l.preventDefault();let c=document.createElement("div");c.classList.add("status"),e.appendChild(c);(async(e,t)=>{document.querySelector(".status").textContent=n;let a=await fetch(e,{method:"POST",body:t});return await a.text()})("mailer/smart.php",new FormData(e)).then((e=>{c.textContent=o})).catch((()=>c.textContent=r)).finally((()=>{t.forEach((e=>{e.value=""})),a.forEach((e=>{e.value=""})),setTimeout((()=>{c.remove()}),3e3)}))}))}))};export default forms;